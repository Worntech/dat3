!function(a){a.sep_grid_refresh=function(){a(".ct-grid-masonry").each((function(){var t=new Isotope(this,{itemSelector:".grid-item",percentPosition:!0,masonry:{columnWidth:".grid-sizer"},containerStyle:null,stagger:30,sortBy:"name"});a(this).parent().find(".grid-filter-wrap").on("click",(function(a){var i=a.target.getAttribute("data-filter");t.arrange({filter:i})}));var i=a(this).parent().find(".filter-item");i.on("click",(function(t){i.removeClass("active"),a(this).addClass("active")})),a(this).parent().find(".select-filter-wrap").change((function(){var i=a(this).val();t.arrange({filter:i})})),a(this).parent().find(".select-order-wrap").change((function(){var i=a(this).val();"asc"==i&&t.arrange({sortAscending:!1}),"des"==i&&t.arrange({sortAscending:!0})}))}))},a(".ct-grid").each((function(){a(this).attr("id");a(this).find(".ct-load-more").on("click",(function(t){var i=a(this).data("loadmore"),n=a(this).parents(".ct-grid"),e=n.data("layout");i.paged=parseInt(n.data("start-page"))+1;var r=a(this);r.find("i").attr("class","fac fac-redo fa-spin"),a.ajax({url:main_data.ajax_url,type:"POST",data:{action:"alico_load_more_post_grid",settings:i}}).done((function(t){if(1==t.status){var i=a("<div></div>").html(t.data.html);i.find(".grid-item").addClass("ct-animated"),i=i.html(),n.find(".ct-grid-inner").append(i),n.data("start-page",t.data.paged),"masonry"==e&&n.imagesLoaded((function(){a.sep_grid_refresh(),a(".ct-service-grid4 .ct-animated .grid-item-inner").hover((function(){a(this).find(".item-readmore").slideToggle(300)}),(function(){a(this).find(".item-readmore").slideToggle(300)}))})),t.data.paged>=t.data.max&&r.hide()}})).fail((function(a){return!1})).always((function(){return r.find("i").attr("class","fac fac-redo"),!1}))})),a(document).on("click",".ct-grid-pagination .ajax a.page-numbers",(function(){var t=a(this).parents(".ct-grid"),i=t.find(".ct-grid-pagination").data("loadmore"),n=t.find(".ct-grid-pagination").data("query"),e=t.data("layout"),r=a(this).attr("href");return r=r.replace("#",""),i.paged=parseInt(r),n.paged=parseInt(r),a.ajax({url:main_data.ajax_url,type:"POST",data:{action:"alico_get_pagination_html",query_vars:n}}).done((function(a){1==a.status&&t.find(".ct-grid-pagination").html(a.data.html)})).fail((function(a){return!1})).always((function(){return!1})),a.ajax({url:main_data.ajax_url,type:"POST",data:{action:"alico_load_more_post_grid",settings:i}}).done((function(i){1==i.status&&(t.find(".ct-grid-inner .grid-item").remove(),t.find(".ct-grid-inner").append(i.data.html),t.data("start-page",i.data.paged),"masonry"==e&&t.imagesLoaded((function(){a.sep_grid_refresh(),a("html, body").animate({scrollTop:t.offset().top-300},"slow")})))})).fail((function(a){return!1})).always((function(){return!1})),!1}))}))}(jQuery);